import{a as S,S as p,i as v}from"./assets/vendor-527658dd.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();async function f(e,o){const n="https://pixabay.com",i="/api/",r={key:"42368566-c5457d3930466887d9437b3aa",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:15},s=`${n}${i}`,m=await S.get(s,{params:r});return console.log(m.data),m.data}function E({webformatURL:e,largeImageURL:o,tags:n,likes:i,views:t,comments:r,downloads:s}){return`<li class="gallery-item"><a href="${o}">
    <img class="gallery-image" src="${e}" alt="${n}"></a>
    <p><b>Likes: </b>${i}</p>
    <p><b>Views: </b>${t}</p>
    <p><b>Comments: </b>${r}</p>
    <p><b>Downloads: </b>${s}</p>
    </li>`}function q(e){return e.map(E).join("")}function g(e){const o=q(e);h.insertAdjacentHTML("beforeend",o)}const y=document.querySelector(".form"),h=document.querySelector(".gallery"),P=document.querySelector("input"),I=document.querySelector(".container"),u=document.querySelector(".btn-load"),$=()=>{const e=document.createElement("span");e.classList.add("loader"),I.append(e)},b=()=>{const e=document.querySelector(".loader");e&&e.remove()},x=()=>{u.classList.remove("hidden"),console.log(a>=l)},O=()=>{u.classList.add("hidden"),console.log("removeLoadBtn"),console.log(a,l)},L=()=>{a>=l?O():x()};let c,a,l;const w={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};y.addEventListener("submit",B);u.addEventListener("click",_);async function B(e){if(e.preventDefault(),c=P.value.trim(),a=1,!c){d("Empty field!");return}$();try{const o=await f(c,a);o.totalHits===0&&d("Sorry, there are no images matching your search query. Please try again!"),l=Math.ceil(o.totalHits/15),h.innerHTML="",g(o.hits);const n=new p(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh()}catch(o){d(o)}b(),L(),y.reset()}async function _(e){a+=1;const o=await f(c,a);g(o.hits);const n=new p(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh(),b(),L()}function d(e){v.error({title:"Error",message:e})}
//# sourceMappingURL=commonHelpers.js.map
