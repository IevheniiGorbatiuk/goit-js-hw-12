import{a as S,S as f,i as g}from"./assets/vendor-527658dd.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();async function h(e,o){const n="https://pixabay.com",s="/api/",r={key:"42368566-c5457d3930466887d9437b3aa",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:15},i=`${n}${s}`,p=await S.get(i,{params:r});return console.log(p.data),p.data}function E({webformatURL:e,largeImageURL:o,tags:n,likes:s,views:t,comments:r,downloads:i}){return`<li class="gallery-item"><a href="${o}">
    <img class="gallery-image" src="${e}" alt="${n}"></a>
    <p><b>Likes: </b>${s}</p>
    <p><b>Views: </b>${t}</p>
    <p><b>Comments: </b>${r}</p>
    <p><b>Downloads: </b>${i}</p>
    </li>`}function q(e){return e.map(E).join("")}function y(e){const o=q(e);u.insertAdjacentHTML("beforeend",o)}const b=document.querySelector(".form"),u=document.querySelector(".gallery"),P=document.querySelector("input"),B=document.querySelector(".container"),m=document.querySelector(".btn-load"),I=()=>{const e=document.createElement("span");e.classList.add("loader"),B.append(e)},L=()=>{const e=document.querySelector(".loader");e&&e.remove()},$=()=>{m.classList.remove("hidden"),console.log(a<=c),console.log("showLoadBtn")},x=()=>{m.classList.add("hidden"),console.log("removeLoadBtn"),console.log(a<=c)},v=()=>{a>=c?x():$()};let l,a,c;const w={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};b.addEventListener("submit",O);m.addEventListener("click",_);async function O(e){if(e.preventDefault(),l=P.value.trim(),a=1,!l){d("Empty field!");return}I();try{const o=await h(l,a);o.totalHits===0&&d("Sorry, there are no images matching your search query. Please try again!"),c=Math.ceil(o.totalHits/15),u.innerHTML="",y(o.hits);const n=new f(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh()}catch(o){d(o)}L(),v(),b.reset()}async function _(e){a+=1;const o=await h(l,a);y(o.hits);const n=new f(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh(),L(),v();const s=u.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:2*s}),a>=c&&g.info({title:"",message:"We're sorry, but you've reached the end of search results."})}function d(e){g.error({title:"Error",message:e})}
//# sourceMappingURL=commonHelpers.js.map
