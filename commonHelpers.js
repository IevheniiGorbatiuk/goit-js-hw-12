import{a as S,S as p,i as f}from"./assets/vendor-527658dd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();async function h(e,t){const n="https://pixabay.com",s="/api/",r={key:"42368566-c5457d3930466887d9437b3aa",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15},i=`${n}${s}`;return(await S.get(i,{params:r})).data}function E({webformatURL:e,largeImageURL:t,tags:n,likes:s,views:o,comments:r,downloads:i}){return`<li class="gallery-item"><a href="${t}">
    <img class="gallery-image" src="${e}" alt="${n}"></a>
    <p><b>Likes: </b>${s}</p>
    <p><b>Views: </b>${o}</p>
    <p><b>Comments: </b>${r}</p>
    <p><b>Downloads: </b>${i}</p>
    </li>`}function q(e){return e.map(E).join("")}function g(e){const t=q(e);u.insertAdjacentHTML("beforeend",t)}const y=document.querySelector(".form"),u=document.querySelector(".gallery"),P=document.querySelector("input"),I=document.querySelector(".container"),d=document.querySelector(".btn-load"),$=()=>{const e=document.createElement("span");e.classList.add("loader"),I.append(e)},b=()=>{const e=document.querySelector(".loader");e&&e.remove()},x=()=>{d.classList.remove("hidden")},L=()=>{d.classList.add("hidden")},v=()=>{a>=m?L():x()};let c,a,m;const w={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};y.addEventListener("submit",B);d.addEventListener("click",O);async function B(e){if(e.preventDefault(),c=P.value.trim(),a=1,!c){l("Empty field!");return}$();try{const t=await h(c,a);t.totalHits===0&&l("Sorry, there are no images matching your search query. Please try again!"),m=Math.ceil(t.totalHits/15),u.innerHTML="",g(t.hits);const n=new p(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh()}catch(t){l(t)}b(),v(),y.reset()}async function O(e){a+=1;const t=await h(c,a);g(t.hits);const n=new p(".gallery a",w);n.on("show.sipmlelightbox"),n.refresh(),b(),v();const s=u.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:2*s}),(a>=m||!t.hits.length)&&(f.info({title:"",message:"We're sorry, but you've reached the end of search results."}),L())}function l(e){f.error({title:"Error",message:e})}
//# sourceMappingURL=commonHelpers.js.map
