import{a as E,S as f,i as h}from"./assets/vendor-527658dd.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();async function g(e,t){const n="https://pixabay.com",s="/api/",r={key:"42368566-c5457d3930466887d9437b3aa",q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:15},i=`${n}${s}`,p=await E.get(i,{params:r});return console.log(p.data),p.data}function q({webformatURL:e,largeImageURL:t,tags:n,likes:s,views:o,comments:r,downloads:i}){return`<li class="gallery-item"><a href="${t}">
    <img class="gallery-image" src="${e}" alt="${n}"></a>
    <p><b>Likes: </b>${s}</p>
    <p><b>Views: </b>${o}</p>
    <p><b>Comments: </b>${r}</p>
    <p><b>Downloads: </b>${i}</p>
    </li>`}function P(e){return e.map(q).join("")}function y(e){const t=P(e);d.insertAdjacentHTML("beforeend",t)}const b=document.querySelector(".form"),d=document.querySelector(".gallery"),I=document.querySelector("input"),$=document.querySelector(".container"),m=document.querySelector(".btn-load"),x=()=>{const e=document.createElement("span");e.classList.add("loader"),$.append(e)},L=()=>{const e=document.querySelector(".loader");e&&e.remove()},B=()=>{m.classList.remove("hidden")},v=()=>{m.classList.add("hidden"),console.log(a<=l)},w=()=>{a>=l?v():B()};let c,a,l;const S={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",animation:250};b.addEventListener("submit",O);m.addEventListener("click",_);async function O(e){if(e.preventDefault(),c=I.value.trim(),a=1,!c){u("Empty field!");return}x();try{const t=await g(c,a);t.totalHits===0&&u("Sorry, there are no images matching your search query. Please try again!"),l=Math.ceil(t.totalHits/15),d.innerHTML="",y(t.hits);const n=new f(".gallery a",S);n.on("show.sipmlelightbox"),n.refresh()}catch(t){u(t)}L(),w(),b.reset()}async function _(e){a+=1;const t=await g(c,a);y(t.hits);const n=new f(".gallery a",S);n.on("show.sipmlelightbox"),n.refresh(),L(),w();const s=d.firstElementChild.getBoundingClientRect().height;scrollBy({behavior:"smooth",top:2*s}),console.log(t.hits.length),(a>=l||!t.hits.length)&&(h.info({title:"",message:"We're sorry, but you've reached the end of search results."}),v())}function u(e){h.error({title:"Error",message:e})}
//# sourceMappingURL=commonHelpers.js.map
